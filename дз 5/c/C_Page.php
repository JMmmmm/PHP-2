<?php//// Конттроллер страницы чтения.//include_once('m/model.php');class C_Page extends C_Base{	    	public function __construct() {	    $this->getUsers();	}            public function getUsers () {        // соединяемся с базой данных        $connect_str = DB_DRIVER . ':host='. DB_HOST . ';dbname=' . DB_NAME;        $db = new PDO($connect_str,DB_USER,DB_PASS);                // получаем массив пользователей        $result = $db->query("SELECT login, password FROM maindata");	        if(isset($_POST['user'])) {                     $mis = false;            while ($row = $result -> fetch()) {                if ($_POST['user'] == $row['login'] && $_POST['pass'] == $row['password']) {                    $mis = true;                    header('location: index.php?c=personCab&act=cab');                    exit();                }            }            if($mis == false){                echo "Логин или пароль не верны";            }        }    }		public function action_index(){		$this->title .= '::Чтение';		$text = text_get();		$this->content = $this->Template('v/v_index.php', array('text' => $text));		}		public function action_edit(){		$this->title .= '::Редактирование';				if($this->isPost())		{			text_set($_POST['text']);			header('location: index.php');			exit();		}				$text = text_get();		$this->content = $this->Template('v/v_edit.php', array('text' => $text));			}}